<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ì˜ ì—°ì•  ìŠ¤íƒ€ì¼ í…ŒìŠ¤íŠ¸</title>
    <style>
        :root {
            --primary-color: #ff6b81;
            --secondary-color: #f7f1e3;
            --text-color: #2f3542;
            --bg-color: #ffffff;
        }

        body {
            font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
            background-color: #fce4ec;
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .container {
            max-width: 600px;
            width: 100%;
            background-color: var(--bg-color);
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            padding: 30px;
            box-sizing: border-box;
            position: relative;
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .intro {
            text-align: center;
            margin-bottom: 20px;
            font-size: 0.9rem;
            color: #777;
        }

        .progress-box {
            text-align: center;
            background-color: var(--secondary-color);
            color: #dfa429;
            padding: 10px;
            border-radius: 10px;
            font-weight: bold;
            margin-bottom: 30px;
            font-size: 1.1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .question-card {
            margin-bottom: 25px;
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
        }

        .question-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-btn {
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            font-size: 0.95rem;
            word-break: keep-all;
        }

        .option-btn:hover {
            background-color: #fff0f3;
            border-color: #ffb6c1;
        }

        .option-btn.selected {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
            font-weight: bold;
        }

        #submit-btn {
            width: 100%;
            padding: 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: background 0.3s;
        }

        #submit-btn:hover {
            background-color: #ff4757;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ’˜ ì—°ì•  ì„±í–¥ í…ŒìŠ¤íŠ¸</h1>
    <p class="intro">20ê°œì˜ ì§ˆë¬¸ì„ í†µí•´ ë‚˜ì˜ ì—°ì•  DNAë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!</p>

    <div class="progress-box" id="progress-display">
        ì§„í–‰ë¥ : (0 / 20)
    </div>

    <div id="quiz-container">
    </div>

    <button id="submit-btn" onclick="moveToResult()">ê²°ê³¼ í™•ì¸í•˜ê¸°</button>
</div>

<script>
    let questions = [
        // F vs S
        { q: "ëˆ„êµ°ê°€ ë§ˆìŒì— ë“¤ ë•Œ ë‚˜ëŠ”?", a: "F", a_txt: "ë¨¼ì € ì—°ë½í•˜ê±°ë‚˜ í‘œí˜„í•´ë³¸ ì ì´ ë§ë‹¤.", b: "S", b_txt: "ë¨¼ì € ë‹¤ê°€ê°€ê¸°ë³´ë‹¤ ìƒëŒ€ ì›€ì§ì„ì„ ê¸°ë‹¤ë¦°ë‹¤." },
        { q: "ìƒˆë¡œìš´ ê´€ê³„, ì¹œí•´ì§€ëŠ” ì†ë„ëŠ”?", a: "F", a_txt: "ëŠë‚Œ ì˜¤ë©´ ê¸ˆë°© ì¹œí•´ì§„ë‹¤.", b: "S", b_txt: "í¸í•´ì§€ê¸°ê¹Œì§€ ì‹œê°„ì´ ê½¤ ê±¸ë¦°ë‹¤." },
        { q: "í˜¸ê°ì´ ìƒê¸°ë©´?", a: "F", a_txt: "í‹°ê°€ ë¹ ë¥´ê²Œ ë“œëŸ¬ë‚œë‹¤.", b: "S", b_txt: "í‹°ê°€ ë‚˜ë„ ìˆ¨ê¸°ê±°ë‚˜ ì¡°ì‹¬í•œë‹¤." },
        { q: "ì†Œê°œíŒ…ì´ë‚˜ ì²« ë§Œë‚¨ í›„ì—ëŠ”?", a: "F", a_txt: "ë°”ë¡œ ë‹¤ìŒ ë§Œë‚¨ì„ ì¡ê³  ì‹¶ë‹¤.", b: "S", b_txt: "ì¢€ ë” ë¶„ìœ„ê¸° ë³´ê³  ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ì—°ë½í•œë‹¤." },
        { q: "ì¸ ë‹¨ê³„ì—ì„œ ë‚˜ëŠ”?", a: "F", a_txt: "ë‚˜ë¥¼ ë¨¼ì € ë³´ì—¬ì£¼ëŠ” í¸ì´ë‹¤.", b: "S", b_txt: "ì‹ ì¤‘í•˜ê²Œ ì•Œì•„ê°€ë©° ì²œì²œíˆ ì—°ë‹¤." },

        // A vs C
        { q: "í‰ì†Œ ê°ì • í‘œí˜„ì€?", a: "A", a_txt: "ì¢‹ì•„í•˜ë©´ ë§/í–‰ë™ìœ¼ë¡œ ìì£¼ í‘œí˜„í•œë‹¤.", b: "C", b_txt: "í‘œí˜„ì€ ì ì€ í¸ì´ê³  ì€ê·¼í•œ í–‰ë™ìœ¼ë¡œ ë³´ì—¬ì¤€ë‹¤." },
        { q: "ìŠ¤í‚¨ì‹­ì— ëŒ€í•œ ìƒê°ì€?", a: "A", a_txt: "ìŠ¤í‚¨ì‹­ì´ ìì—°ìŠ¤ëŸ½ê³  í¸í•˜ë‹¤.", b: "C", b_txt: "ìŠ¤í‚¨ì‹­ì€ ê´€ê³„ê°€ ì•ˆì •ë¼ì•¼ í¸í•´ì§„ë‹¤." },
        { q: "ì—°ë½ ìŠ¤íƒ€ì¼ì€?", a: "A", a_txt: "ìì£¼ ì•ˆë¶€ ë¬»ê³  ëŒ€í™” ì´ì–´ê°€ëŠ” ê±¸ ì¢‹ì•„í•œë‹¤.", b: "C", b_txt: "í•„ìš”í•œ ìˆœê°„Â·í•  ë§ ìˆì„ ë•Œë§Œ ì—°ë½í•œë‹¤." },
        { q: "ì—°ì¸ì—ê²Œ ì• ì • í‘œí˜„ì€?", a: "A", a_txt: "ì¹­ì°¬Â·ì• ì • ë§ì„ ìì£¼ í•œë‹¤.", b: "C", b_txt: "ë§ë³´ë‹¤ í–‰ë™ìœ¼ë¡œ ì±™ê²¨ì£¼ëŠ” íƒ€ì…ì´ë‹¤." },
        { q: "ê°ì • ë³€í™”ê°€ ìƒê¸¸ ë•Œ?", a: "A", a_txt: "ê¸°ì˜ë©´ í‹°ë‚˜ê³  ìŠ¬í”„ë©´ í‹°ë‚˜ê³  ë³€í™”ê°€ ë³´ì¸ë‹¤.", b: "C", b_txt: "ê°ì •ì´ ìˆì–´ë„ í¬ê²Œ ë“œëŸ¬ë‚´ì§€ ì•ŠëŠ”ë‹¤." },

        // N vs R
        { q: "ì—°ë½ ë¹ˆë„ì— ëŒ€í•´?", a: "N", a_txt: "ë§¤ì¼ ê¾¸ì¤€í•œ ì—°ë½ì´ ì•ˆì •ê°ì„ ì¤€ë‹¤.", b: "R", b_txt: "ì—°ë½ í…€ì´ ì¢€ ìˆì–´ë„ ë¶ˆì•ˆí•˜ì§€ ì•Šë‹¤." },
        { q: "í•¨ê»˜í•˜ëŠ” ì‹œê°„ì€?", a: "N", a_txt: "ê°€ëŠ¥í•œ ìì£¼ ë³´ê³  ì‹¶ë‹¤.", b: "R", b_txt: "ë³´ê³  ì‹¶ì–´ë„ ë‚˜ë§Œì˜ ì‹œê°„ë„ ê¼­ í•„ìš”í•˜ë‹¤." },
        { q: "ì—°ì¸ì˜ ì¼ìƒ ê³µìœ ?", a: "N", a_txt: "ì„œë¡œ ì¼ìƒÂ·ìŠ¤ì¼€ì¤„ì„ ê³µìœ í•˜ëŠ” ê²Œ ì¤‘ìš”í•˜ë‹¤.", b: "R", b_txt: "êµ³ì´ ëª¨ë“  ì¼ìƒì„ ê³µìœ í•  í•„ìš”ëŠ” ì—†ë‹¤." },
        { q: "ìƒëŒ€ê°€ ë°”ë¹ ì„œ ì—°ë½ì´ ì•ˆ ë  ë•Œ?", a: "N", a_txt: "ìƒëŒ€ê°€ ë°”ì˜ë©´ ì„­ì„­í•  ë•Œê°€ ìˆë‹¤.", b: "R", b_txt: "ìƒëŒ€ê°€ ë°”ë¹ ë„ ê·¸ëŸ´ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•œë‹¤." },
        { q: "ë‚´ ì‚¶ì—ì„œ ì—°ì• ì˜ ë¹„ì¤‘ì€?", a: "N", a_txt: "ì—°ì• ê°€ ë‚´ ì‚¶ì—ì„œ í° ë¹„ì¤‘ì„ ì°¨ì§€í•œë‹¤.", b: "R", b_txt: "ì—°ì• ë„ ì¤‘ìš”í•˜ì§€ë§Œ ë‚˜ì˜ ë£¨í‹´Â·ììœ ë„ í•„ìˆ˜ë‹¤." },

        // D vs M
        { q: "ë°ì´íŠ¸ ì¥ì†Œ ê²°ì •ì€?", a: "D", a_txt: "ë‚´ê°€ ë¨¼ì € â€œì—¬ê¸° ê°€ì!â€ í•˜ê³  ì •í•œë‹¤.", b: "M", b_txt: "ìƒëŒ€ ì˜ê²¬ ë¨¼ì € ë“£ê³  ë§ì¶°ê°€ëŠ” í¸ì´ë‹¤." },
        { q: "ê°ˆë“±ì´ ìƒê²¼ì„ ë•Œ?", a: "D", a_txt: "ë¬¸ì œ ìƒê¸°ë©´ ë°”ë¡œ í•´ê²°í•˜ë ¤ê³  ì›€ì§ì¸ë‹¤.", b: "M", b_txt: "ì‹œê°„ì„ ë‘ê³  ì°¨ë¶„íˆ ìƒê°í•œ ë‹¤ìŒ í’€ë ¤ê³  í•œë‹¤." },
        { q: "ë°ì´íŠ¸ ì¼ì •ì€?", a: "D", a_txt: "ê³„íš ì§œëŠ” ê±¸ ì¦ê¸°ê³  ì£¼ë„í•œë‹¤.", b: "M", b_txt: "ê³„íšë³´ë‹¨ ìì—°ìŠ¤ëŸ¬ìš´ íë¦„ì„ ì„ í˜¸í•œë‹¤." },
        { q: "ì˜ê²¬ ì¶©ëŒ ì‹œ?", a: "D", a_txt: "ë‚´ ì˜ê²¬ì„ ë¶„ëª…íˆ ë§í•˜ëŠ” í¸ì´ë‹¤.", b: "M", b_txt: "ì›¬ë§Œí•˜ë©´ ì–‘ë³´í•˜ê±°ë‚˜ ë¶€ë“œëŸ½ê²Œ ì¡°ìœ¨í•œë‹¤." },
        { q: "ìƒˆë¡œìš´ ë°ì´íŠ¸ ì½”ìŠ¤ëŠ”?", a: "D", a_txt: "ìƒˆë¡œìš´ ê³³Â·ê²½í—˜ì„ ë¨¼ì € ì œì•ˆí•˜ëŠ” í¸", b: "M", b_txt: "ìƒëŒ€ê°€ ì œì•ˆí•´ì£¼ë©´ ë”°ë¼ê°€ëŠ” í¸ì´ í¸í•˜ë‹¤." }
    ];

    const answers = new Array(20).fill(null); 

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function renderQuiz() {
        shuffleArray(questions);
        const container = document.getElementById('quiz-container');
        
        questions.forEach((q, index) => {
            const card = document.createElement('div');
            card.className = 'question-card';
            
            const title = document.createElement('div');
            title.className = 'question-title';
            title.innerText = `${index + 1}. ${q.q}`;
            
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options';

            const btnA = document.createElement('button');
            btnA.className = 'option-btn';
            btnA.id = `btn-${index}-A`;
            btnA.innerText = q.a_txt;
            btnA.onclick = () => selectOption(index, q.a, 'A');

            const btnB = document.createElement('button');
            btnB.className = 'option-btn';
            btnB.id = `btn-${index}-B`;
            btnB.innerText = q.b_txt;
            btnB.onclick = () => selectOption(index, q.b, 'B');

            optionsDiv.appendChild(btnA);
            optionsDiv.appendChild(btnB);
            card.appendChild(title);
            card.appendChild(optionsDiv);
            container.appendChild(card);
        });
    }

    function selectOption(qIndex, value, type) {
        answers[qIndex] = value;
        document.getElementById(`btn-${qIndex}-A`).classList.remove('selected');
        document.getElementById(`btn-${qIndex}-B`).classList.remove('selected');
        document.getElementById(`btn-${qIndex}-${type}`).classList.add('selected');
        updateProgress();
    }

    function updateProgress() {
        const count = answers.filter(val => val !== null).length;
        const display = document.getElementById('progress-display');
        display.innerText = `ì§„í–‰ë¥ : (${count} / 20)`;
        
        if(count === 20) {
            display.style.backgroundColor = '#ff6b81';
            display.style.color = 'white';
            display.innerText = "ëª¨ë“  ì§ˆë¬¸ ì™„ë£Œ! (20 / 20)";
        }
    }

    // ê²°ê³¼ í™•ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
    function moveToResult() {
        // 1. ë‹µë³€ í™•ì¸
        if (answers.includes(null)) {
            alert("ì•„ì§ ì„ íƒí•˜ì§€ ì•Šì€ ë¬¸í•­ì´ ìˆìŠµë‹ˆë‹¤. ëª¨ë“  ì§ˆë¬¸ì— ë‹µí•´ì£¼ì„¸ìš”!");
            return;
        }

        // 2. ì ìˆ˜ ê³„ì‚°
        const scores = { F:0, S:0, A:0, C:0, N:0, R:0, D:0, M:0 };
        answers.forEach(val => {
            scores[val]++;
        });

        // 3. MBTI ìœ í˜• ë„ì¶œ (ì˜ˆ: FAND)
        let resultType = "";
        resultType += scores.F >= scores.S ? "F" : "S";
        resultType += scores.A >= scores.C ? "A" : "C";
        resultType += scores.N >= scores.R ? "N" : "R";
        resultType += scores.D >= scores.M ? "D" : "M";

        // 4. í˜ì´ì§€ ì´ë™ (result.html í˜ì´ì§€ë¡œ ìœ í˜• ì •ë³´ë¥¼ ê°€ì§€ê³  ì´ë™)
        // ì˜ˆ: result.html?mbti=FAND
        window.location.href = `result.html?mbti=${resultType}`;
    }

    renderQuiz();
</script>

</body>
</html>


